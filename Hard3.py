# –ó–∞–¥–∞–Ω–∏–µ 3. –ü–∞—Ç—Ç–µ—Ä–Ω Singleton
# –†–µ–∞–ª–∏–∑—É–π—Ç–µ –∫–ª–∞—Å—Å AppConfig (Singleton) —Å:
# –ù–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ {"theme": "Dark", "volume": 80}.
# –ú–µ—Ç–æ–¥–∞–º–∏ get_setting(key) –∏ update_setting(key, value).
# –ü—Ä–æ–≤–µ—Ä–∫–∞:
# –°–æ–∑–¥–∞–π—Ç–µ –¥–≤–∞ –æ–±—ä–µ–∫—Ç–∞ AppConfig.
# –ò–∑–º–µ–Ω–∏—Ç–µ —Ç–µ–º—É –Ω–∞ "Light" —á–µ—Ä–µ–∑ –ø–µ—Ä–≤—ã–π –æ–±—ä–µ–∫—Ç.
# –í—ã–≤–µ–¥–∏—Ç–µ —Ç–µ–º—É —á–µ—Ä–µ–∑ –≤—Ç–æ—Ä–æ–π –æ–±—ä–µ–∫—Ç.
# üìù –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:
# –¢–µ–º–∞: Light
# –¢–µ–º–∞: Light
# –ü–∞—Ç—Ç–µ—Ä–Ω Singleton —á–µ—Ä–µ–∑ –º–µ—Ç–∞ –∫–ª–∞—Å—Å
class Singleton(type):
    """
    –ú–µ—Ç–∞ –∫–ª–∞—Å—Å Singleton –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Å–æ–∑–¥–∞–Ω–∏—è —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ –∫–ª–∞—Å—Å–∞.
    –ü–æ–∑–≤–æ–ª—è–µ—Ç –∫–ª–∞—Å—Å—É –∏–º–µ—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —ç–∫–∑–µ–º–ø–ª—è—Ä, —Å–æ–∑–¥–∞–≤–∞—è –æ–±—â–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç
    –¥–ª—è –ª—é–±—ã—Ö –æ–±—Ä–∞—â–µ–Ω–∏–π
    """
    _instances = {}

    def __call__(cls, *args, **kwargs):
        """
        –ü—Ä–∏ –≤—ã–∑–æ–≤–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ –∫–ª–∞—Å—Å–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞.
        –ï—Å–ª–∏ —ç–∫–∑–µ–º–ø–ª—è—Ä –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç, —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π, –∏–Ω–∞—á–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π.
        """
        if cls not in cls._instances:
            cls._instances[cls] = super(Singleton, cls).__call__(*args, **kwargs)
        return cls._instances[cls]

# –û—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, —Ä–µ–∞–ª–∏–∑—É—é—â–∏–π –ø–∞—Ç—Ç–µ—Ä–Ω Singleton
class AppConfig(metaclass=Singleton):
    """
    –ö–ª–∞—Å—Å AppConfig —Ö—Ä–∞–Ω–∏—Ç –æ–±—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∏—Ö –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å
    —á–µ—Ä–µ–∑ –µ–¥–∏–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä, –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ.
    """
    settings = {"theme": "Dark", "volume": 80}  # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

    def get_setting(self, key):
        """
        –ü–æ–ª—É—á–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –ø–æ —É–∫–∞–∑–∞–Ω–Ω–æ–º—É –∫–ª—é—á—É.
        :param key: –ò–º—è –∫–ª—é—á–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
        :return: –ó–Ω–∞—á–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–ª–∏ None, –µ—Å–ª–∏ –∫–ª—é—á –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
        """
        return self.settings.get(key)

    def update_setting(self, key, value):
        """
        –û–±–Ω–æ–≤–ª—è–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –ø–æ —É–∫–∞–∑–∞–Ω–Ω–æ–º—É –∫–ª—é—á—É.
        :param key: –ò–º—è –∫–ª—é—á–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
        :param value: –ù–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –¥–∞–Ω–Ω–æ–≥–æ –∫–ª—é—á–∞
        """
        self.settings[key] = value


# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏:
config1 = AppConfig()
config2 = AppConfig()

# –ú–µ–Ω—è–µ–º —Ç–µ–º—É —á–µ—Ä–µ–∑ –ø–µ—Ä–≤—ã–π –æ–±—ä–µ–∫—Ç
config1.update_setting("theme", "Light")

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–Ω–æ–≤–∞ —á–µ—Ä–µ–∑ –ø–µ—Ä–≤—ã–π –æ–±—ä–µ–∫—Ç
print(f"–¢–µ–º–∞: {config1.get_setting('theme')}")  # –¢–µ–º–∞: Light

# –ú–µ–Ω—è–µ–º —Ç–µ–º—É —á–µ—Ä–µ–∑ –≤—Ç–æ—Ä–æ–π –æ–±—ä–µ–∫—Ç
config2.update_setting("theme", "Light")

# –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫—É —Ç–µ–º—ã —á–µ—Ä–µ–∑ –≤—Ç–æ—Ä–æ–π –æ–±—ä–µ–∫—Ç
print(f"–¢–µ–º–∞: {config2.get_setting('theme')}")  # –¢–µ–º–∞: Light